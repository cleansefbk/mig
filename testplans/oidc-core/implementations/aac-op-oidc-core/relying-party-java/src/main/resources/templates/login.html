<!-- Extends default Bootstrap Unical Italia template -->
<!DOCTYPE html>
<html lang="it">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!-- Page details -->
		<title>OIDC Relying Party JAVA</title>
		<!-- CSS -->
		<link rel="stylesheet" href="/static/css/bootstrap-italia.min.css">
		<!-- Fonts -->
		<script>
			window.__PUBLIC_PATH__ = "/static/fonts"
		</script>
		<!-- Javascript -->
		<script src="/static/js/bootstrap-italia.bundle.min.js"></script>
		<!-- Extra CSS/Javascript -->
		<link rel="icon" href="/static/images/favicon.ico">
		<link rel="icon" href="/static/images/favicon-32x32.png" sizes="32x32" type="image/png">
		<link rel="icon" href="/static/images/favicon-16x16.png" sizes="16x16" type="image/png">
		<link type="text/css" rel="stylesheet" href="/static/css/access-button.css">
	</head>
	<body>
		<div class="it-header-wrapper">
			<!-- Top row in header -->
			<div class="it-header-slim-wrapper">
				<div class="container">
					<div class="row">
						<div class="col-12">
							<div class="it-header-slim-wrapper-content">
								<div class="nav-mobile">
									<nav>
										<a class="it-opener d-lg-none" data-toggle="collapse" href="#menu-principale" role="button" aria-expanded="false" aria-controls="menu-principale">
											<span>OIDC Relying Partyi JAVA</span>
										</a>
									</nav>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="it-nav-wrapper">
				<div class="it-header-center-wrapper">
					<div class="container">
						<div class="row">
							<div class="col-12">
								<div class="it-header-center-content-wrapper">
									<!-- Logo -->
									<div class="it-brand-wrapper">
										<a href="#">
											<div class="it-brand-text">
												<h2 class="no_toc">
													<a href="/oidc/rp/landing">OIDC Relying Party JAVA</a>
												</h2>
												<h3 class="no_toc d-none d-md-block"></h3>
											</div>
										</a>
									</div>
									
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Main menu -->
			</div>
		</div>
		<!-- Container - Body of page-->
		<div class="main-body">
			<div>
				<div class="container pt-2 p-3">
					<div class="row d-lg-flex">
						<div class="col-12">
							<div class="card-wrapper card-space">
								<div class="card card-bg no-after">
									<div class="card-body pl-lg-0">
										<div class="row h-100">
											<div class="col-12 pl-lg-4">
												<div class="row p-3">
													<h3 class="text-left"> Login Page</h3>
												</div>
												<div class="row mt-3">
													<div class="col">
														<span class="badge badge-grey-unical square-corners mb-3 mr-2 ml-0 pr-10 p-2 mw-100">
															<a href="oauth/authorize" class="italia-it-button italia-it-button-size-m button-spid" spid-idp-button="#spid-idp-button-medium-get" aria-expanded="false">
																<span class="italia-it-button-icon">
																	<img src="/static/svg/spid-ico-circle-bb.svg" alt="">
																</span>
																<span class="italia-it-button-text">Login</span>
															</a>
															<a href="userlogout" class="italia-it-button italia-it-button-size-m button-spid" spid-idp-button="#spid-idp-button-medium-get" aria-expanded="false">
																<span class="italia-it-button-icon">
																	<img src="/static/svg/spid-ico-circle-bb.svg" alt="">
																</span>
																<span class="italia-it-button-text">Logout</span>
															</a>
															<a href="token" class="italia-it-button italia-it-button-size-m button-spid" spid-idp-button="#spid-idp-button-medium-get" aria-expanded="false">
																<span class="italia-it-button-icon">
																	<img src="/static/svg/spid-ico-circle-bb.svg" alt="">
																</span>
																<span class="italia-it-button-text">Refresh Token</span>
															</a>
															<a href="userinfo" class="italia-it-button italia-it-button-size-m button-spid" spid-idp-button="#spid-idp-button-medium-get" aria-expanded="false">
																<span class="italia-it-button-icon">
																	<img src="/static/svg/spid-ico-circle-bb.svg" alt="">
																</span>
																<span class="italia-it-button-text">User Info</span>
															</a>
															<a href="revoke" class="italia-it-button italia-it-button-size-m button-spid" spid-idp-button="#spid-idp-button-medium-get" aria-expanded="false">
																<span class="italia-it-button-icon">
																	<img src="/static/svg/spid-ico-circle-bb.svg" alt="">
																</span>
																<span class="italia-it-button-text">Revoke</span>
															</a>
															
															<a href="introspect" class="italia-it-button italia-it-button-size-m button-spid" spid-idp-button="#spid-idp-button-medium-get" aria-expanded="false">
																<span class="italia-it-button-icon">
																	<img src="/static/svg/spid-ico-circle-bb.svg" alt="">
																</span>
																<span class="italia-it-button-text">Introspect</span>
															</a>
														</span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div th:if="${code}">
					<div class="container pt-2 p-3">
						<div style="word-break: break-word; border: 2px solid red; border-radius: 10px; padding: 10px;">
							<p th:text="'code: ' + ${code}"></p>
							<p th:text="'token: ' + ${token}"></p>
							<p th:text="'user info: ' + ${userInfo}"></p>
						</div>
					</div>
				</div>
				<!-- eventualmente fare anche altri bottoni, al momento non ancora implementati/danno errore -->
				<div th:if="${userInfo} and !${code}">
					<div class="container pt-2 p-3">
						<div style="word-break: break-word; border: 2px solid red; border-radius: 10px; padding: 10px;">
							<p th:text="'user info: ' + ${userInfo}"></p>
						</div>
					</div>
				</div>
				<!-- Footer -->
				<footer class="it-footer">
				</footer>
				<script>
					$(document).ready(function() {
						$('.it-date-datepicker').datepicker({
							inputFormat: ["dd/MM/yyyy"],
							outputFormat: "dd/MM/yyyy",
						});
					});
				</script>
	</body>
</html>